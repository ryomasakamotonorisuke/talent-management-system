(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{9539:function(e,t,s){Promise.resolve().then(s.bind(s,8991))},8991:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(7437),n=s(2265),r=s(6850),l=s(9376);function i(){let[e,t]=(0,n.useState)(""),[s,i]=(0,n.useState)(""),[u,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(""),{signIn:m}=(0,r.a)();(0,l.useRouter)();let h=async t=>{t.preventDefault(),o(!0),c("");try{let{error:t}=await m(e,s);t&&c(t.message)}catch(e){c("ログインに失敗しました")}finally{o(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,a.jsxs)("div",{className:"bg-white py-8 px-6 shadow-xl rounded-lg",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900",children:"タレントマネジメントシステム"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Supabase認証でログイン"})]}),(0,a.jsxs)("form",{onSubmit:h,className:"mt-8 space-y-6",children:[d&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:d}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"メールアドレス"}),(0,a.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin@talent-management.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"パスワード"}),(0,a.jsx)("input",{type:"password",value:s,onChange:e=>i(e.target.value),required:!0,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"パスワード"})]}),(0,a.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"ログイン中...":"ログイン"})]}),(0,a.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"デモアカウント"}),(0,a.jsxs)("div",{className:"space-y-2 text-xs text-gray-600",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"管理者:"})," admin@talent-management.com / admin123"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"部署担当者:"})," dept@talent-management.com / dept123"]})]})]})]})})})}},6850:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return o},a:function(){return d}});var a=s(7437),n=s(2265),r=s(1545);let l=(0,r.eI)("https://mvycskeubwvyodmpdfbv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12eWNza2V1Ynd2eW9kbXBkZmJ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2ODI1MjIsImV4cCI6MjA3NzI1ODUyMn0.e2QeNpwpfG8QC13u1ozU21oyqT--VAXTZzlPwNshSTw",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"supabase-js-web"}}});(0,r.eI)("https://mvycskeubwvyodmpdfbv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12eWNza2V1Ynd2eW9kbXBkZmJ2Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MTY4MjUyMiwiZXhwIjoyMDc3MjU4NTIyfQ.bUwrCEChvxrZ1Sz4KbM30uZ3fxHy7tZzcwZKuTUAu0w",{auth:{autoRefreshToken:!1,persistSession:!1},global:{headers:{"X-Client-Info":"supabase-js-server"}}});var i=s(9376);let u=(0,n.createContext)(void 0),o=e=>{let{children:t}=e,[s,r]=(0,n.useState)(null),[o,d]=(0,n.useState)(null),[c,m]=(0,n.useState)(!0),h=(0,i.useRouter)();(0,n.useEffect)(()=>{(async()=>{let{data:{session:e},error:t}=await l.auth.getSession();if(t)console.error("セッション取得エラー:",t);else{var s;d(e),r(null!==(s=null==e?void 0:e.user)&&void 0!==s?s:null)}m(!1)})();let{data:{subscription:e}}=l.auth.onAuthStateChange(async(e,t)=>{var s;d(t),r(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),m(!1),"SIGNED_IN"===e?h.push("/dashboard"):"SIGNED_OUT"===e&&h.push("/login")});return()=>e.unsubscribe()},[h]);let p=async(e,t)=>{let{error:s}=await l.auth.signInWithPassword({email:e,password:t});return{error:s}},b=async()=>{await l.auth.signOut()},x=async(e,t,s)=>{let{error:a}=await l.auth.signUp({email:e,password:t,options:{data:s}});return{error:a}};return(0,a.jsx)(u.Provider,{value:{user:s,session:o,loading:c,signIn:p,signOut:b,signUp:x},children:t})},d=()=>{let e=(0,n.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[256,971,117,744],function(){return e(e.s=9539)}),_N_E=e.O()}]);