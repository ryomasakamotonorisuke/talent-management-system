"use strict";(()=>{var e={};e.id=715,e.ids=[715],e.modules={2885:e=>{e.exports=require("@supabase/supabase-js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},335:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>b,patchFetch:()=>h,requestAsyncStorage:()=>I,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var a={};s.r(a),s.d(a,{GET:()=>p,POST:()=>c});var r=s(9303),n=s(8716),i=s(670),o=s(7070),u=s(1926);async function p(){return o.NextResponse.json({status:"OK",message:"Supabase API is running",timestamp:new Date().toISOString()})}async function c(e){try{let{searchParams:t}=new URL(e.url),s=t.get("action");if("get-trainees"===s){let{data:e,error:t}=await u.pR.from("trainees").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(t)return o.NextResponse.json({error:t.message},{status:500});return o.NextResponse.json({trainees:e})}if("get-stats"===s){let{count:e}=await u.pR.from("trainees").select("*",{count:"exact",head:!0}).eq("is_active",!0),{data:t}=await u.pR.from("trainees").select("nationality").eq("is_active",!0),s=t?.reduce((e,t)=>(e[t.nationality]=(e[t.nationality]||0)+1,e),{})||{};return o.NextResponse.json({totalTrainees:e||0,nationalityStats:Object.entries(s).map(([e,t])=>({nationality:e,count:t}))})}return o.NextResponse.json({error:"Invalid action"},{status:400})}catch(e){return console.error("API Error:",e),o.NextResponse.json({error:"Internal server error"},{status:500})}}let l=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/supabase/route",pathname:"/api/supabase",filename:"route",bundlePath:"app/api/supabase/route"},resolvedPagePath:"C:\\Users\\ngf005148\\Desktop\\webapps\\talent\\src\\app\\api\\supabase\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:I,staticGenerationAsyncStorage:d,serverHooks:m}=l,b="/api/supabase/route";function h(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},1926:(e,t,s)=>{s.d(t,{OQ:()=>r,a5:()=>i,pR:()=>n});var a=s(2885);let r=(0,a.createClient)("https://mvycskeubwvyodmpdfbv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12eWNza2V1Ynd2eW9kbXBkZmJ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2ODI1MjIsImV4cCI6MjA3NzI1ODUyMn0.e2QeNpwpfG8QC13u1ozU21oyqT--VAXTZzlPwNshSTw",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"supabase-js-web"}}}),n=(0,a.createClient)("https://mvycskeubwvyodmpdfbv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12eWNza2V1Ynd2eW9kbXBkZmJ2Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MTY4MjUyMiwiZXhwIjoyMDc3MjU4NTIyfQ.bUwrCEChvxrZ1Sz4KbM30uZ3fxHy7tZzcwZKuTUAu0w",{auth:{autoRefreshToken:!1,persistSession:!1},global:{headers:{"X-Client-Info":"supabase-js-server"}}}),i=async()=>{try{let{data:{session:e},error:t}=await r.auth.getSession();if(t)return console.error("Supabase auth error:",t),!1;return console.log("Supabase connection successful (auth test)"),!0}catch(e){return console.error("Supabase connection test failed:",e),!1}}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,972],()=>s(335));module.exports=a})();